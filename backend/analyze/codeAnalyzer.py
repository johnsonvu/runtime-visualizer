import sys
sys.path.append("Y")
from codeAnalyzer import codeAnalyzer
from memory_profiler import profile
import inspect
import sys
sys.path.append("Y")
from codeAnalyzer import codeAnalyzer
from memory_profiler import profile
import inspect
import sys
sys.path.append("Y")
from codeAnalyzer import codeAnalyzer
from memory_profiler import profile
import inspect
import sys
sys.path.append("Y")
from codeAnalyzer import codeAnalyzer
from memory_profiler import profile
import inspect
import sys
sys.path.append("Y")
from codeAnalyzer import codeAnalyzer
from memory_profiler import profile
import inspect
import sys
sys.path.append("Y")
from codeAnalyzer import codeAnalyzer
from memory_profiler import profile
import inspect
import sys
sys.path.append("Y")
from codeAnalyzer import codeAnalyzer
from memory_profiler import profile
import inspect
import sys
sys.path.append("Y")
from codeAnalyzer import codeAnalyzer
from memory_profiler import profile
import inspect
import sys
sys.path.append("Y")
from codeAnalyzer import codeAnalyzer
from memory_profiler import profile
import inspect
import sys
sys.path.append("Y")
from codeAnalyzer import codeAnalyzer
from memory_profiler import profile
import inspect
import sys
sys.path.append("Y")
from codeAnalyzer import codeAnalyzer
from memory_profiler import profile
import inspect
import sys
sys.path.append("Y")
from codeAnalyzer import codeAnalyzer
from memory_profiler import profile
import inspect
import sys
sys.path.append("Y")
from codeAnalyzer import codeAnalyzer
from memory_profiler import profile
import inspect
import sys
sys.path.append("Y")
from codeAnalyzer import codeAnalyzer
from memory_profiler import profile
import inspect
import sys
sys.path.append("Y")
from codeAnalyzer import codeAnalyzer
from memory_profiler import profile
import inspect
import sys
sys.path.append("Y")
from codeAnalyzer import codeAnalyzer
from memory_profiler import profile
import inspect
import sys
sys.path.append("/Y")
from codeAnalyzer import codeAnalyzer
from memory_profiler import profile
import inspect
import sys
sys.path.append("../Y")
from codeAnalyzer import codeAnalyzer
from memory_profiler import profile
import inspect
import sys
sys.path.append("/Y")
from codeAnalyzer import codeAnalyzer
from memory_profiler import profile
import inspect
import sys
sys.path.append("/Y")
from codeAnalyzer import codeAnalyzer
from memory_profiler import profile
import inspect
import sys
sys.path.append("/Y")
from codeAnalyzer import codeAnalyzer
from memory_profiler import profile
import inspect
import sys
sys.path.append("/Y")
from codeAnalyzer import codeAnalyzer
from memory_profiler import profile
import inspect
from memory_profiler import profile
import inspect
from codeAnalyzer import codeAnalyzer
import json

class CodeAnalyzer:

	def __init__(self):
		functionName = "__init__"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "__init__"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "__init__"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "__init__"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "__init__"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "__init__"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "__init__"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "__init__"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "__init__"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "__init__"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "__init__"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "__init__"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "__init__"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "__init__"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "__init__"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "__init__"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "__init__"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "__init__"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "__init__"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "__init__"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "__init__"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "__init__"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "__init__"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		self.callOccurrence = {}
		self.JsonData = {}


	def getCallOccurrence(self):
		functionName = "getCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "getCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "getCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "getCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "getCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "getCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "getCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "getCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "getCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "getCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "getCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "getCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "getCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "getCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "getCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "getCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "getCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "getCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "getCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "getCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "getCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "getCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "getCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		return self.callOccurrence
	
	def updateCallOccurrence(self, key):
		functionName = "updateCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "updateCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "updateCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "updateCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "updateCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "updateCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "updateCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "updateCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "updateCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "updateCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "updateCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "updateCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "updateCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "updateCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "updateCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "updateCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "updateCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "updateCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "updateCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "updateCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "updateCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "updateCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "updateCallOccurrence"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		if not key in self.callOccurrence:
			self.callOccurrence[key] = 1
		else:
			self.callOccurrence[key] += 1

	def appendTestData(self, testName):
		functionName = "appendTestData"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "appendTestData"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "appendTestData"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "appendTestData"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "appendTestData"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "appendTestData"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "appendTestData"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "appendTestData"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "appendTestData"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "appendTestData"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "appendTestData"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "appendTestData"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "appendTestData"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "appendTestData"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "appendTestData"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "appendTestData"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "appendTestData"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "appendTestData"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "appendTestData"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "appendTestData"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "appendTestData"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "appendTestData"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "appendTestData"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		self.JsonData[testName] = []
		for key in self.callOccurrence:
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			try:
				self.JsonData[testName].append({
					'caller': key.split('@')[0],
					'callee': key.split('@')[1],
					'occurance': self.callOccurrence[key]
				})
			except:
				continue
		self.callOccurrence = {}

	def createJsonFile(self):
		functionName = "createJsonFile"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "createJsonFile"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "createJsonFile"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "createJsonFile"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "createJsonFile"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "createJsonFile"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "createJsonFile"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "createJsonFile"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "createJsonFile"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "createJsonFile"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "createJsonFile"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "createJsonFile"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "createJsonFile"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "createJsonFile"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "createJsonFile"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "createJsonFile"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "createJsonFile"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "createJsonFile"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "createJsonFile"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "createJsonFile"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "createJsonFile"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "createJsonFile"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		functionName = "createJsonFile"
		codeAnalyzer.updateCallOccurrence(inspect.stack()[1][3]+ "@" + functionName)
		json_data = json.dumps(self.JsonData, indent=4)
		print json_data
		with open('data.txt', 'w') as outfile:
			json.dump(json_data, outfile)


#Instantiate static class  
codeAnalyzer = CodeAnalyzer()


#Inject calls
	#import inspect
	#from codeAnalyzer import codeAnalyzer

	#functionName = functionname  					
	#caller = inspect.stack()[1][3]

	# Need to implement this
	#caller = inspect.stack()[1][3]
	#codeAnalyzer.updateCallOccurrence("{}@{}".format(caller, functionName))
		#OR for Loops 
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
			codeAnalyzer.updateCallOccurrence(functionName + "@For1")
	#codeAnalyzer.updateCallOccurrence("{}@For-1".format(functionName))

	#Need to inject 	
	#Caller					#Callee
	#inspect.stack()[1][3], inspect.stack()[0][3]






















